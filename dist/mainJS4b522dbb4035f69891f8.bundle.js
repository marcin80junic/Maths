!function(e){function t(t){for(var s,a,r=t[0],c=t[1],l=t[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(u&&u(t);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={0:0},o=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;o.push([3,1]),n()}([,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(2);var s=n(0),i=n.n(s);function o(){var e=o.prototype;e.levelDisplayed=-1,e.numbers=[],e.results=[],e.answersIdxs=[],e.setLevel=function(e){this.level=e,this.saveSettings({level:e}),this.init()},e.setExerciseNum=function(e){this.exerciseNum=e,this.saveSettings({exerciseNum:e}),this.init()},e.init=function(){-1===this.levelDisplayed&&this.loadSettings(),this.numbers=this.numbersCreator(),this.results=[],this.answersIdxs=[],Q.layout.exercises(this),Q.handlers.exercises(this)},e.numbersCreator=function(e,t){e=e||this.exerciseNum,void 0===t&&(t=this.level);var n,s=[],i=[];for(n=0;n<e;n+=1)for(;;)if(o({nums:s=this.getNumbers(t),array:i})){i.push(s);break}function o(e){var t,n=e.nums,s=e.array,i=s.length;for(t=0;t<i;t+=1)if(JSON.stringify(n)===JSON.stringify(s[t]))return!1;return!0}return i},e.loadSettings=function(){try{if("undefined"!=typeof Storage){var e="maths."+this.name+".";this.level=parseInt(localStorage.getItem(e+"level"),10)||0,this.exerciseNum=parseInt(localStorage.getItem(e+"exerciseNum"),10)||6}}catch(e){alert("can't access the local storage\nall settings will be restored to its default values")}},e.saveSettings=function(e){try{if("undefined"!=typeof Storage){var t,n="maths."+this.name+".";for(t in e)e.hasOwnProperty(t)&&localStorage.setItem(n+t,e[t])}}catch(e){}}}function a(e){function t(){}return t.prototype=e,new t}o();var r,c,l,u,d,h=((r=a(o.prototype)).container=i()("#addition-exercises"),r.name="addition",r.sign="+",r.getNumbers=function(e){var t=Q.range,n=[];switch(e){case 0:n=[t(2,9),t(2,9)];break;case 1:n=Math.random()<.5?Math.random()<.5?[t(10,19),t(2,9)]:[t(2,9),t(10,19)]:[t(2,9),t(2,9),t(2,9)];break;case 2:n=Math.random()<.5?[t(10,99),t(10,19),t(2,9)]:[t(10,19),t(2,9),t(10,99)]}return n.push(n.reduce(this.reducer)),n},r.reducer=function(e,t){return e+t},r),f=((c=a(o.prototype)).container=i()("#subtraction-exercises"),c.name="subtraction",c.sign="-",c.getNumbers=function(e){var t=Q.range,n=[];switch(e){case 0:n=[t(3,9),t(2,8)];break;case 1:n=Math.random()<.5?[t(10,19),t(2,9)]:[t(10,19),t(2,9),t(2,5)];break;case 2:n=Math.random()<.5?[t(10,99),t(10,19),t(2,9)]:[t(10,99),t(10,97)]}var s=n.reduce(this.reducer);return s>0?n.push(s):n=this.getNumbers(e),n},c.reducer=function(e,t){return e-t},c),m=((l=a(o.prototype)).container=i()("#multiplication-exercises"),l.name="multiplication",l.sign="\xd7",l.getNumbers=function(e){var t=Q.range,n=[];switch(e){case 0:n=Math.random()<.5?[t(2,5),t(2,6)]:[t(2,6),t(2,5)];break;case 1:n=[t(2,9),t(2,9)];break;case 2:n=Math.random()<.5?[t(2,5),t(10,19)]:Math.random()<.5?[t(2,9),t(2,5),t(2,9)]:[t(2,9),t(2,9),t(2,5)]}return n.push(n.reduce(this.reducer)),n},l.reducer=function(e,t){return e*t},l),p=((u=a(o.prototype)).container=i()("#division-exercises"),u.name="division",u.sign="\xf7",u.getNumbers=function(e){var t=Q.range,n=[];switch(e){case 0:n=[t(4,20),t(2,9)];break;case 1:n=[t(12,100),t(3,9)];break;case 2:n=Math.random()<.5?[t(20,200),t(10,19)]:[t(20,200),t(2,9),t(2,5)]}var s=n.reduce(this.reducer);return s%1==0&&s>1&&(1!==e||1===e&&s<10)?n.push(s):n=this.getNumbers(e),n},u.reducer=function(e,t){return e/t},u),v=((d=a(o.prototype)).container=i()("#fractions-exercises"),d.name="fractions",d.sign="+",d.getNumbers=function(e){var t,n,s=Q.range,i=function(e,t){return[s(1,t),e]},o=[];switch(e){case 0:o=[i(t=s(2,6),t-1),i(t,t-1)];break;case 1:o=(t=s(2,4))===(n=s(2,5))?[i(t,t+1),i(n,n-1)]:[i(t,Math.floor(t/2)),i(n,Math.floor(n/2))];break;case 2:t=s(2,10),n=s(2,4),o=[i(t,2*t-1),i(n,2*n-1)]}return 0===e?o.push(o.reduce(this.simpleReducer)):o.push(o.reduce(this.reducer)),o},d.reducer=function(e,t){for(var n=e[0]*t[1]+t[0]*e[1],s=e[1]*t[1],i=n,o=s;o;){var a=o;o=i%o,i=a}return[n/i,s/i]},d.simpleReducer=function(e,t){return[e[0]+t[0],e[1]]},d),g={container:i()("#test"),name:"test",isLoaded:!1,results:[],modules:[],times:[],numOfQuest:0,unlocked:0,level:0,init:function(){var e=i()(".test-level-choice"),t=Q.settings.test;this.modules=t.modules.split(","),this.times=t.times.split(","),this.numOfQuest=parseInt(t.numOfQuest),this.unlocked=parseInt(t.unlocked),e.each((function(e){i()(this).prop("disabled",!(e<=Q.test.unlocked))})).off().on("click",(function(t){Q.test.level=e.index(this),Q.test.createTest()})),this.isLoaded=!0},createTest:function(){var e,t,n=this.modules.length,s={info:this.info()},i="";this.results=[],this.answersIdxs=[];for(var o=0;o<n;o+=1)(e=Q[this.modules[o]])&&(this.numbers=e.numbersCreator(this.numOfQuest,this.level),this.sign=e.sign,i=Q.layout.main(this),i+=o===n-1?Q.layout.testNavigation(!1,!0):Q.layout.testNavigation(!1,!1),s[e.name]=i);s.summary=this.summary,t=Q.accordion.init(s),Q.dialog.init(t,{title:"test",custom:Q.timer.getTimer(parseInt(this.times[this.level],10)),callback:function(){return Q.accordion.dispose()}}),Q.handlers.test(t)},info:function(){return'<div class="test-interface">\n              <h3 class="center">Level: '.concat(Q.difficulties[this.level],'</h3>\n              <h3 class="center">Number of questions: ').concat(this.modules.length*this.numOfQuest,'</h3>\n              <h3 class="center">Questions per module: ').concat(this.numOfQuest,'</h3>\n              <h3 class="center">Modules: ').concat(this.modules.join(", "),'</h3>\n              <h3 class="center">Time to complete: ').concat(this.times[this.level],' minutes</h3>\n              <h2 class="center">GOOD LUCK!</h2>\n              ').concat(Q.layout.testNavigation(!0,!1),"\n            </div>")},summary:'<div id="test-summary" class="test-interface">\'\n              <div class="test-navigation">\n                <button id="test-close" class="form-element button3d">Close</button>\n              </div>\n            </div>',displayResults:function(e,t){var n,s,o,a,r,c=this,l=this.modules,u=this.numOfQuest,d=[],h=[],f=0,m=0,p=0,v="",g="";!function(){for(e.forEach((function(e,t){r=(t+1)/u,f+=e,Number.isInteger(r)&&(h[r-1]=Math.round(f/u*100),d[r-1]=f,m+=f,f=0)})),(p=Math.round(m/(u*l.length)*100))>59&&c.unlocked<2&&c.unlocked===c.level&&(p>74?(v="Congratulations, You have unlocked next level!",c.unlocked=c.level+1,i()(".test-level-choice").eq(c.unlocked).prop("disabled",!1),Q.settings.accessStorage({unlocked:c.level+1},"maths.settings.test.",!0)):v="To unlock next level you need to score at least 75%.. Try again"),s=t%60,n=Math.floor(t/60),o=n<1?"":1===n?n+" minute":n+" minutes",a=1===s?s+" second":s+" seconds",g+=p>59?'<h2 class="center">Congratulations You Passed!</h2>':'<h2 class="center">You need to practice a bit more!</h2>',g+='<h3 class="center">Your score: '.concat(p,'%</h3>\n               <h3 class="center">Your time: ').concat(o," ").concat(a,"</h3>"),r=0;r<l.length;r+=1)g+='<h3 class="center">'.concat(l[r]," score: ").concat(d[r],"/").concat(u," (").concat(h[r],"%)</h3>");g+='<h3 class="center">Total points: '.concat(m,"/").concat(u*l.length,'</h3>\n               <h3 class="center">').concat(v,"</h3>"),i()("#test-summary").prepend(g).css("height","73vh"),Q.playSound(p>59)}(),Q.accordion.unfold(),Q.accordion.scrollTo(this.modules.length+1)}},b={exercises:function(e){var t=e.exerciseNum,n="";n+='<div class="interface">',n+='<div class="interface-item">\n                    <label for="level">Difficulty:</label>\n                    <select class="level form-element">',Q.difficulties.forEach((function(t,s){n+=e.level===s?'<option selected="selected">'+t+"</option>":"<option>"+t+"</option>"})),n+="</select></div>",n+='<div class="interface-item">\n                    <label for="exerciseNum">How many exercises?</label>\n                    <select class="exerciseNum form-element">',Q.numOfExercises.forEach((function(t,s){n+=e.exerciseNum===parseInt(t,10)?'<option selected="selected">'+t+"</option>":"<option>"+t+"</option>"})),n+="</select></div>",n+='<div class="interface-item-score">',n+="<div>Your Score:</div>",n+='<div><div class="score">0</div>',n+="<div>/</div>",n+="<div>"+t+"</div>",n+="</div></div>",n+="</div>",n+=this.main(e,t),n+='<div class="interface">',n+='<button type="reset" class="reset button3d form-element">Reset</button>',n+='<button type="submit" class="reload button3d form-element">Reload</button>',n+='<button type="submit" class="check-all button3d form-element">Check All</button>',n+="</div>",e.levelDisplayed=e.level,e.container.html(n)},main:function(e){for(var t,n,s,i,o,a,r,c="test"===e.name,l="true"===Q.settings.general.isRandomized,u=e.sign,d=e.numbers,h=d.length,f=e.results,m='<div class="columns">',p=0;p<h;p+=1){i=(s=d[p]).length,l?(a=1/i,o=Math.random(),r=Math.floor(o/a)):r=i-1,m+='<div class="columns-line">\n                        <span class="columns-line-operation">';for(var v=0;v<i&&(t=s[v].length>1,(n=v===r)&&e.answersIdxs.push(v),m+=t?this.fraction(s[v],n,f):this.integer(s[v],n,f),v!==i-1);v+=1)m+=v===i-2?"<div> = </div>":"<div>"+u+"</div>";m+='<img src="'+Q.icons.questMark+'" class="icon">',m+=c?"":'<button type="submit" class="check button3d form-element">check</button>',m+="</span></div>"}return m+="</div>"},integer:function(e,t,n){var s="";return s+=t?'<div class="tooltip">\n                <input type="text" maxlength="3" class="answer form-element">\n                <span class="tiptext"></span>\n            </div>':"<div> ".concat(e," </div>"),t&&n.push(e),s},fraction:function(e,t,n){var s,i=e[0]/e[1],o=Math.floor(i),a=Number.isInteger(i),r="";return r+=t?'<span class="tooltip">':"",r+='<div class="fraction">',r+=o>=1?t?'<div class="whole"><input type="text" maxlength="1" class="answer form-element"></div>':'<div class="whole"> '.concat(o," </div>"):"",a?(r+="</div>",t&&(r+='<span class="tiptext"></span></span>',n.push(e)),r):(s=[e[0]-o*e[1],e[1]],r+='<div class="fraction-unit">    \n                    <div class="numerator">',r+=t?'<input type="text" class="answer form-element" size="1">':s[0],r+='</div><div class="denominator">',r+=t?'<input type="text" class="answer form-element" size="1">':s[1],r+="</div></div></div>",t&&(r+='<span class="tiptext"></span></span>',n.push(e)),r)},testNavigation:function(e,t){var n=e?"Start":"Prev",s=t?"Finish":"Next",i=t?"button-finish":"button-next",o='<div class="test-navigation">';return o+='<button class="'.concat(e?"button-start":"button-prev",' form-element button3d">').concat(n,"</button>"),o+=e?"</div>":'<button class="'.concat(i,' form-element button3d">').concat(s,"</button></div>")}},y={exercises:function(e){var t,n,s,o,a,r=e.container.find(".level"),c=e.container.find(".exerciseNum"),l=e.container.find(".score"),u=0,d=e.container.find(".columns-line-operation"),h=d.find(".tooltip"),f="true"===Q.settings.general.showTooltips,m=d.find(".answer"),p=d.find(".icon"),v=d.find(".check"),g=e.container.find(".reset"),b=e.container.find(".reload"),y=e.container.find(".check-all"),w=null,x=function(r){return t=d.eq(r).find(".answer"),n=p.eq(r),s=v.eq(r),o=e.results[r],a=[],Q.handlers.validateOperation(t,o,a)?(l.text(++u),t.each((function(e){i()(this).hide().after("<div> ".concat(a[e]," </div>")),n.addClass("answered")})),n.prop("src",Q.icons.tick),s.addClass("invisible"),!0):(n.prop("src",Q.icons.cross),t.addClass("warning"),!1)};i()(this.adjustLinesLength(d)),r.on("change",(function(){var t=i()(this).find("option:selected").text();e.setLevel(Q.difficulties.indexOf(t))})),c.on("change",(function(){var t=i()(this).find("option:selected").text();e.setExerciseNum(parseInt(t,10))})),h.on("mouseover mouseout",(function(t){if(f){var n=i()(this).find(".tiptext"),s=h.index(this);if("mouseover"===t.type){var o,a=i()(this).width()/2;w=setTimeout((function(){0===n.children().length&&(Q.createAndAppendCanvas(n,e,s),o=n.width()/2,n.css("marginLeft",a-(o+11)+"px")),n.addClass("showtip")}),1200)}else null!==w&&clearTimeout(w),n.removeClass("showtip")}})),v.on("click",(function(e){e.preventDefault();var t=v.index(this),n=x(t);Q.playSound(n),i()(this).trigger("blur")})),g.on("click",(function(){u=0,l.text(u),m.show().removeClass("warning").next().remove(),p.prop("src",Q.icons.questMark),v.removeClass("invisible"),p.removeClass("answered"),g.trigger("blur")})),b.on("click",(function(t){t.preventDefault(),e.init()})),y.on("click",(function(e){e.preventDefault(),v.each((function(e,t){i()(t).is(".invisible")||x(e)})),y.trigger("blur")})),this.textInputs(d,m,x)},test:function(e){var t=e.find(".columns-line-operation"),n=e.find(".answer"),s=e.find(".button-prev"),o=e.find(".button-next"),a=e.find(".button-start"),r=e.find(".button-finish"),c=e.find(".accordion-header"),l=Q.accordion.closeBtn,u=i()("#test-close"),d=i()(a).add(o).add(r).add(l).add(u),h=function(){var n=[],s=e.find(".icon"),o=Q.test.results;return t.each((function(e,a){var r,c=i()(a).find(".answer"),l=o[e];Q.handlers.validateOperation(c,l)?(n[r=e]=1,t.eq(r).find(".answer").addClass("correct"),s.eq(r).prop("src",Q.icons.tick)):function(e){n[e]=0,t.eq(e).find(".answer").addClass("warning"),s.eq(e).prop("src",Q.icons.cross)}(e)})),n};a.on("click",(function(){if("Start"===a.text())return i()(this).text("Next"),Q.accordion.start(),Q.handlers.adjustLinesLength(t),void Q.timer.start((function(){return r.trigger("click")}));Q.accordion.show(c.eq(1),1)})),s.on("click",(function(){var e=s.index(this);Q.accordion.show(c.eq(e),e)})),o.on("click",(function(){var e=o.index(this);Q.accordion.show(c.eq(e+2),e+2)})),r.on("click",(function(){var e=h();n.prop("disabled","true"),i()(a).add(s).add(o).add(r).hide(),Q.test.displayResults(e,Q.timer.stop())})),u.on("click",(function(){return Q.dialog.dispose((function(){return Q.accordion.dispose()}))})),d.on("keydown",(function(e){9===e.which&&(e.shiftKey?i()(this).is(l)&&(d.filter(":visible").focus(),e.preventDefault()):i()(this).is(l)||(l.focus(),e.preventDefault()))})),this.textInputs(t,n)},validateOperation:function(e,t,n){var s,o=[];return n=n||[],e.each((function(e){if(""===(s=i()(this).val())){if(!(t.length&&0===e&&t[0]>t[1]))return!1;s="0"}n.push(parseInt(s,10))})),t.length&&(1===n.length&&(o=[n[0],1]),2===n.length&&(o=n),3===n.length&&(o=[n[0]*n[2]+n[1],n[2]],n[0]=0===n[0]?"":n[0])),0===o.length?n[0]===t:o[0]/o[1]==t[0]/t[1]},textInputs:function(e,t,n){t.on("paste",(function(){return!1})),t.on("blur",(function(){var e=i()(this);if(""===e.val()){var t=e.removeClass("warning").parents(".columns-line"),n=t.find(".answer");if(n.length>1&&""!==n.not(e).val())return;t.find(".icon").prop("src",Q.icons.questMark)}})),t.on("keydown",(function(t){var s=i()(this),o=s.parents(".columns-line-operation"),a=e.index(o),r=o.find(".answer").length>1,c=String.fromCharCode(t.which),l=s.val().length,u=3;if(r&&(u=2),""!==window.getSelection().toString()&&(i.a.isNumeric(c)||t.which>95&&t.which<106))return!0;if(8===t.which||9===t.which||46===t.which||37===t.which||39===t.which)return!0;if(t.which>95&&t.which<106&&l<u)return!0;if(13===t.which&&"function"==typeof n){var d=n(a);return Q.playSound(d),!1}return!(!i.a.isNumeric(c)||l===u)&&void 0}))},adjustLinesLength:function(e){var t,n=0;e.each((function(e){t=i()(this).width(),n=t>n?t:n})),e.each((function(){i()(this).width(n)}))}},w=n(1),x=n.n(w),k={name:"settings",areLoaded:!1,fields:{volume:i()("#volume"),isRandomized:i()('#settings input[name="isRandomized"]'),showTooltips:i()('#settings input[name="showTooltips"]'),testModules:i()('#settings input[name="modules"]'),testTimes:i()('#settings select[name="times"'),testNumOfQuest:i()('#settings select[name="numOfQuest"'),clearButton:i()("#settings-clear"),applyButton:i()("#settings-apply"),settingsForm:i()("#settings-form")},system:{volume:.5},general:{showTooltips:"true",isRandomized:"false"},fractions:{},test:{modules:"addition,subtraction,multiplication,division,fractions",numOfQuest:"4",times:"10,8,6",unlocked:"0"},changed:{system:{},general:{},test:{}},init:function(){var e=this,t=Q.settings,n="maths.settings.",s={system:this.system,general:this.general,test:this.test},o=function(){i.a.isEmptyObject(t.changed.system)&&i.a.isEmptyObject(t.changed.general)&&i.a.isEmptyObject(t.changed.test)?t.fields.applyButton.prop("disabled",!0):t.fields.applyButton.prop("disabled",!1)};this.accessStorage(s,n,!1),this.areLoaded=!0,this.restoreSettings(),this.fields.volume.on("input change",(function(){return e.updateVolumeLabel(e.fields.volume.val())})),this.fields.volume.on("change",(function(){var e=i()(this).val()/100;t.system.volume==e?delete t.changed.system.volume:t.changed.system.volume=e,Q.playSound(!0,e),o()})),this.fields.isRandomized.on("change",(function(){var e=i()(this).val();e===t.general.isRandomized?delete t.changed.general.isRandomized:t.changed.general.isRandomized=e,o()})),this.fields.showTooltips.on("change reset",(function(){var e=i()(this).val();e===t.general.showTooltips?delete t.changed.general.showTooltips:t.changed.general.showTooltips=e,o()})),this.fields.testModules.on("change",(function(){var e=[];t.fields.testModules.each((function(t,n){i()(n).is(":checked")&&e.push(i()(n).val())})),e.join(",")===t.test.modules?delete t.changed.test.modules:t.changed.test.modules=e.join(","),o()})),this.fields.testTimes.on("change",(function(){var e=[];t.fields.testTimes.each((function(t,n){e[t]=i()(n).val()})),e.join(",")===t.test.times?delete t.changed.test.times:t.changed.test.times=e.join(","),o()})),this.fields.testNumOfQuest.on("change",(function(){var n=e.fields.testNumOfQuest.val();n==t.test.numOfQuest?delete t.changed.test.numOfQuest:t.changed.test.numOfQuest=n,o()})),this.fields.clearButton.on("click",(function(){e.clearChanges(),e.restoreSettings(),e.fields.clearButton.blur(),o()})),this.fields.settingsForm.on("submit",(function(e){e.preventDefault(),t.confirmChanges()&&(t.applyChanges(),t.accessStorage(t.changed,n,!0),t.clearChanges(),o())})),this.fields.settingsForm.on("reset",(function(){setTimeout((function(){return e.fields.volume.trigger("input")}),100),i()("#settings-default").blur(),o()}))},accessStorage:function(e,t,n){try{if("undefined"!=typeof Storage)for(var s in e)if(e.hasOwnProperty(s))if("object"===x()(e[s]))this.accessStorage(e[s],t+s+".",n);else if(n)localStorage.setItem(t+s,e[s]),console.log("saving: "+t+s+": "+e[s]);else{var i=localStorage.getItem(t+s);console.log("loading: "+t+s+": "+i),null!==i&&(e[s]=i)}}catch(e){alert("can't access the local storage")}},applyChanges:function(){var e,t,n=this,s=this.changed,i=function(){for(var e in Q)Q.hasOwnProperty(e)&&Object.getPrototypeOf(Q[e])===o.prototype&&(Q[e].levelDisplayed=-1)};for(var a in s)if(s.hasOwnProperty(a)){for(var r in t=!0,e=s[a])e.hasOwnProperty(r)&&(this[a][r]=e[r],t=!1);t||("general"===a&&i(),"test"===a&&(Q.settings.test.unlocked="0",Q.test.isLoaded=!1,n.accessStorage({unlocked:"0"},"maths.settings.test.",!0)))}},restoreSettings:function(){var e=this.test.modules.split(","),t=this.test.times.split(",");this.fields.volume.val(100*this.system.volume),this.updateVolumeLabel(100*this.system.volume),this.fields.isRandomized.filter('[value="'+this.general.isRandomized+'"]').prop("checked",!0),this.fields.showTooltips.filter('[value="'+this.general.showTooltips+'"]').prop("checked",!0),this.fields.testModules.each((function(t,n){var s=!1;e.forEach((function(e){i()(n).is('[value="'+e+'"]')&&(s=!0)})),i()(n).prop("checked",s)})),this.fields.testTimes.each((function(e,n){i()(n).val(t[e])})),this.fields.testNumOfQuest.val(this.test.numOfQuest)},clearChanges:function(){for(var e in this.changed)this.changed.hasOwnProperty(e)&&(this.changed[e]={})},confirmChanges:function(){var e=!0,t=!i.a.isEmptyObject(this.changed.general),n=!i.a.isEmptyObject(this.changed.test);return t&&n?e=confirm("changing these options will void any progress throughout all modules and test"):t?e=confirm("changing these options will void any progress throughout all modules (not test)"):n&&(e=confirm("changing these options will void any progress in the test module")),e},updateVolumeLabel:function(e){i()("#volume-label").html(e+"%"),e<1?i()("#speaker").prop("src",Q.icons.volumeMuted):e<30?i()("#speaker").prop("src",Q.icons.volumeLow):e<70?i()("#speaker").prop("src",Q.icons.volumeMedium):i()("#speaker").prop("src",Q.icons.volumeHigh)}},O={container:i()(".dialog"),title:i()(".dialog-head-title"),custom:i()(".dialog-head-custom"),closeBtn:i()(".dialog-head-close"),body:i()(".dialog-body"),dimmer:i()("#dim"),init:function(e,t){t.title&&this.title.text(t.title),t.custom&&this.custom.append(t.custom),this.body.append(e),this.dimmer.addClass("active"),this.container.addClass("active"),this.closeBtn.on("click",(function(){Q.dialog.dispose(t.callback?t.callback:null)}))},dispose:function(e){this.closeBtn.off(),this.container.removeClass("active"),this.dimmer.removeClass("active"),this.body.empty(),this.custom.empty(),this.title.text(""),e&&e()}},S={container:i()('<div class="accordion"></div>'),headerElements:i()(),contentElements:i()(),last:function(){return Q.accordion.headerElements.last()},start:function(){this.headerElements.not(this.last()).prop("disabled",!1),this.show(this.headerElements.eq(1)[0],1)},init:function(e){for(var t in e)e.hasOwnProperty(t)&&this.createSection(t,e[t]);return this.headerElements=i()(this.container.find(".accordion-header")),this.contentElements=i()(this.container.find(".accordion-content")),this.headerElements.first().prop("disabled",!1).addClass("selected"),this.contentElements.first().show(),this.attachListeners(),this.container},createSection:function(e,t){var n=i()('<button class="accordion-header">'+e+"</button>"),s=i()('<div class="accordion-content">'+t+"</div>");n.prop("disabled",!0),this.container.append(n,s)},attachListeners:function(){i()(this.headerElements).on("click",(function(){i()(this).is(Q.accordion.last())||Q.accordion.show(this,Q.accordion.headerElements.index(i()(this)))}))},show:function(e,t){var n=i()(e),s=n.next(),o=s[0].scrollHeight;n.is("selected")||(this.headerElements.removeClass("selected"),n.addClass("selected"),this.contentElements.css("height","0"),s.css("height",o+"px"),this.scrollTo(t))},unfold:function(){this.contentElements.css("height","auto"),this.headerElements.addClass("selected").not(this.last()).prop("disabled",!0)},scrollTo:function(e){if(e<0||e>this.headerElements.length-1)throw new Error("couldn't find the header at index ".concat(e));this.headerElements.eq(e)[0].scrollIntoView()},dispose:function(){this.container.empty(),this.headerElements=null,this.contentElements=null}},M={container:i()('<div class="timer"></div>'),minutes:"00",seconds:"00",totalSecs:0,totalMins:0,elapsed:0,setTimer:null,getTimer:function(e){null!==this.setTimer&&this.stop();var t=60*e,n=Math.floor(t/60),s=t%60;return this.minutes=n<10?"0"+n:""+n,this.seconds=s<10?"0"+s:""+s,this.totalSecs=t,this.totalMins=n,this.show(),this.container},state:function(){return"<b>"+this.minutes+":"+this.seconds+"</b>"},show:function(){this.container.html(this.state())},start:function(e){var t=this,n=Date.now(),s=this.totalSecs,i=this.totalMins,o=this.totalSecs%60;this.setTimer=setInterval((function(){if(t.elapsed=Math.floor((Date.now()-n)/1e3)-1,t.elapsed>=s+1)return clearInterval(this.setTimer),void e(t.elapsed);var a=Math.floor(t.elapsed/60),r=(t.elapsed+60)%60,c=r<o+1?i-a:i-a-1,l=o<r?60-(r-o):o-r;t.minutes=c<10?"0"+c:""+c,t.seconds=l<10?"0"+l:""+l,t.show()}),1e3)},stop:function(){return clearInterval(this.setTimer),this.minutes="00",this.seconds="00",this.setTimer=null,this.elapsed}},C=n.p+"public/pics/acbd577be689cec5e2a210ce23389c5b.png",T=n.p+"public/pics/e3b5bb54d2a555bf0ae8e2aa9abf1d78.png",N=n.p+"public/pics/72e725e9905e75e5711900aa5c8e4f77.png",E=n.p+"public/pics/967f61f079ab3bff2c7b585fdaf6cd9b.png",I=n.p+"public/pics/4d2f18b3f70599a558de8ad9a992fea4.png",j=n.p+"public/pics/c2539e3f5471bdb53d5cc0e76ae60c9d.png",L=n.p+"public/pics/795d24bf7bc45ecc8282c59bc85d901d.png",P=n.p+"public/sounds/f0827873fffddcb1200c37d545d3d6c8.mp3",q=n.p+"public/sounds/22aa16c648dbda1d88d5cfb8b2911e28.mp3",Q={icons:{tick:C,cross:T,questMark:N,volumeMuted:E,volumeLow:I,volumeMedium:j,volumeHigh:L},sounds:{cheer:new Audio(P),wrong:new Audio(q)},difficulties:["Fair","Advanced","Super Hard"],numOfExercises:["6","8","10","12","16","20","24"],active:i()("#home"),switch:function(e){var t=e.replace("#",""),n=this[t];this.active=i()(e),this.settings.areLoaded||this.settings.init(),o.prototype===Object.getPrototypeOf(n)?n.level!==n.levelDisplayed&&n.init():"test"===t&&(this.test.isLoaded||this.test.init()),this.active.scrollTop(0)},range:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},playSound:function(e,t){var n=this.sounds.cheer,s=this.sounds.wrong;0!==t?(t=t||Q.settings.system.volume,e?(n.currentTime=.5,n.volume=t,n.play()):(s.volume=t,s.play())):n.pause()},createAndAppendCanvas:function(e,t,n){var s,o,a=t.numbers[n],r=t.answersIdxs[n],c=t.sign,l=[],u=r!==a.length-1?function(){switch(c){case"+":c="-";break;case"\xd7":c="\xf7"}for(s=a.length-1;s>=0;s--)s!==r&&l.push(a[s]);return l}():a.slice(0,a.length-1),d=function(e){var t,n,s,i=1;for(n=0;n<u.length;n+=1)if(2===u[n].length)for(t=u[n][0]/u[n][1],s=0;s<t;s+=1)i+=1;return i*e}(i()("body").width()/(i()("body").width()/80)),h=i()('<canvas class="canvas" width="'+d+'px" height="80px"></canvas>')[0],f=h.getContext("2d"),m=function(e){return Math.PI*e/180};for(2===u[0].length&&(o=function(e,t){var n,s,i=e<t?e:t,o=e>t?e:t;if(t===e)return e;if(o%i==0)return o;for(n=2;n<=o;n++)if((s=n*i)>o&&s%o==0)return s}(u[0][1],u[1][1])),e.width(d),f.fillStyle="red",f.lineWidth=.5,f.font="30px sans-serif",f.translate(40,40),s=0;s<u.length;s+=1)2===u[s].length?(u[s]=[u[s][0]*(o/u[s][1]),o],p(f,u[s])):u[s],s<u.length-1?(v(c),f.translate(57,0)):(v("="),f.translate(50,0),g(Q.icons.questMark));function p(e,t){var n,s,i;if(t[0]>=t[1])for(n=Math.floor(t[0]/t[1]),s=t[0]%t[1],i=0;i<n;i+=1)o(e,t[1],t[1]),i<n-1&&e.translate(70,0),s&&i===n-1&&(e.translate(70,0),o(e,s,t[1]));else o(e,t[0],t[1]);function o(e,t,n){var s,i=360/n,o=-90,a=-90;for(s=1;s<=n;s+=1)a+=i,e.beginPath(),e.moveTo(0,0),e.arc(0,0,30,m(o),m(a),!1),s<=t&&e.fill(),e.closePath(),e.stroke(),o=a}}function v(e){f.fillStyle="black",f.translate(40,0),f.fillText(e,0,11),f.fillStyle="red"}function g(e){f.translate(-25,-15);var t=document.createElement("img");t.src=e,f.drawImage(t,0,0)}return e.append(h)},home:{},addition:h,subtraction:f,multiplication:m,division:p,fractions:v,test:g,dialog:O,accordion:S,timer:M,layout:b,handlers:y,settings:k};i()("document").ready((function(){i()("#main-menu a").each((function(e,t){var n=i()(t).prop("href");"#home"!==(n=n.substring(n.indexOf("#")))&&i()(n).hide()})),i()("#main-menu").on("click",(function(e){var t=i()(e.target),n=t.prop("href");void 0!==n&&(n=n.substring(n.indexOf("#")),i()(".selected").removeClass("selected"),t.addClass("selected"),Q.active.fadeOut((function(){Q.switch(n),Q.active.fadeIn()}))),i()(".mobile-toggle-button").is(":visible")&&(i()(".sidenav").toggleClass("is-open"),i()("body").toggleClass("body-hidden-overflow")),e.preventDefault()}))}))}]);